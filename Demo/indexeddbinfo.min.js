(function(n){n.fn.indexedDbInfo=function(t){var b=window.indexedDB||window.webkitIndexedDB||window.mozIndexedDB||window.msIndexedDB,tt,l,it,a,k,d,y,c,g,rt,p,f,s,i,u,r,w={"table-layout":"auto",border:"1px solid #ccc","border-collapse":"separate","border-spacing":"0.5px","min-height":".01%",width:"80%","overflow-x":"auto"},nt={"background-color":"pink"},e={padding:"4px",marigin:"2px","background-color":"#ccc",border:"1px solid black",width:"40%","text-align":"left"},o={padding:"4px",marigin:"2px",border:"1px solid black",width:"60%"},ut,v,h;window.matchMedia("(max-width: 767px)").matches&&(ut={width:"100%","margin-bottom":"15px","overflow-y":"hidden","-ms-overflow-style":"-ms-autohiding-scrollbar"},n.extend(w,ut));v=n("<div>").css({"word-wrap":"break-word","margin-right":"auto","margin-left":"auto"});h=n("<div>");f=n("<table>");f.css(w);s=n("<caption>");s.css(nt);s.text("■General Information");f.append(s);i=n("<tr>");u=n("<th>").text("UserAgent").css(e);r=n("<td>").text(navigator.userAgent).css(o);i.append(u).append(r);f.append(i);i=n("<tr>");u=n("<th>").text("origin").css(e);r=n("<td>").text(location.origin).css(o);i.append(u).append(r);f.append(i);i=n("<tr>");u=n("<th>").text("Support of Indexed Database").css(e);r=n("<td>").css(o);b?r.text("true"):r.text("false");i.append(u).append(r);f.append(i);i=n("<tr>");u=n("<th>").text("venderPrefix").css(e);r=n("<td>").css(o);window.indexedDB?r.text("unnecessary"):window.webkitIndexedDB?r.text("webkit"):window.mozIndexedDB?r.text("moz"):r.text("-");i.append(u).append(r);f.append(i);h.append(f);v.append(h);b&&t&&(tt=b.open(t),tt.onsuccess=function(){l=this.result;it=l.version;a=l.objectStoreNames.length;h=n("<div>");f=n("<table>");f.css(w);s=n("<caption>");s.css(nt);s.text("■Indexed Datase Information");f.append(s);i=n("<tr>");u=n("<th>").text("Database Name").css(e);r=n("<td>").text(t).css(o);i.append(u).append(r);f.append(i);i=n("<tr>");u=n("<th>").text("Version").css(e);r=n("<td>").text(it).css(o);i.append(u).append(r);f.append(i);i=n("<tr>");u=n("<th>").text("Number of ObjectStores").css(e);r=n("<td>").text(a).css(o);i.append(u).append(r);f.append(i);for(var b=0;b<a;b++)i=n("<tr>"),u=n("<th>").text("ObjectStore Name").css(e),r=n("<td>").text(l.objectStoreNames[b]).css(o),i.append(u).append(r),f.append(i);if(h.append(f),v.append(h),a>0){k=l.objectStoreNames;y=l.transaction(k);function tt(t){var l,b;for(d=k[t],c=y.objectStore(d),rt=c.keyPath,y.onerror=function(n){console.log(n)},y.onsuccess=function(n){console.log(n)},h=n("<div>"),f=n("<table>"),f.css(w),s=n("<caption>"),s.css(nt),s.text("■ObjectStore Information"),f.append(s),i=n("<tr>"),u=n("<th>").text("ObjectStore Name").css(e),r=n("<td>").text(d).css(o),i.append(u).append(r),f.append(i),i=n("<tr>"),u=n("<th>").text("KeyPath").css(e),r=n("<td>").text(rt).css(o),i.append(u).append(r),f.append(i),g=c.autoIncrement===undefined?"-":c.autoIncrement,i=n("<tr>"),u=n("<th>").text("AutoIncrement").css(e),r=n("<td>").text(g).css(o),i.append(u).append(r),f.append(i),l=0;l<c.indexNames.length;l++)i=n("<tr>"),u=n("<th>").text("IndexName").css(e),r=n("<td>").text(c.indexNames[l]).css(o),i.append(u).append(r),f.append(i);b=c.openCursor();b.onsuccess=function(s){var c;try{if(p=s.target.result,p){var l=p.value,y="",w="";for(c in l)y+=c+":",l[c]instanceof Object?(w=JSON.stringify(l[c]),y+=w+" "):y+=l[c]+" ";i=n("<tr>");u=n("<th>").text("Data").css(e);r=n("<td>").text(y).css(o);i.append(u).append(r);f.append(i);p.continue()}else h.append(f),v.append(h),t<a-1&&(t+=1,tt(t))}catch(b){console.log(b)}};b.onerror=function(n){console.log(n)}}tt(0)}});n("body").append(v)}})(jQuery);
//# sourceMappingURL=indexeddbinfo.min.js.map
